---
description: この情報は、アプリ内メッセージのトラブルシューティングに役立ちます。
keywords: mobile
seo-description: この情報は、アプリ内メッセージのトラブルシューティングに役立ちます。
seo-title: アプリ内メッセージのトラブルシューティング
solution: Marketing Cloud,Analytics
title: アプリ内メッセージのトラブルシューティング
topic: Metrics
uuid: 58533aa3-2eb2-4597-8525-77e4e5975e56
translation-type: tm+mt
source-git-commit: c198ae57b05f8965a8e27191443ee2cd552d6c50
workflow-type: tm+mt
source-wordcount: '595'
ht-degree: 51%

---


# アプリ内メッセージのトラブルシューティング{#troubleshooting-in-app-messaging}

この情報は、アプリ内メッセージのトラブルシューティングに役立ちます。

アプリ内メッセージのすべての要件を満たしたが、メッセージが表示されない場合は、次の項目を確認してください。

## アプリで新しい設定および新しい SDK を使用する場合

SDKがバージョン4.2以降で、正しく設定されていることを確認します。 設定（ダウンロードした JSON ファイル）に `Messages` セクションがあるか、Messages リモートエンドポイントがあり、Dynamic Tag Management から取得できることを確認します。

## Androidでフルスクリーンメッセージが表示されません。 正しいSDKと設定を使用しており、トリガーが満たされている。

マニフェストファイルを更新してフルスクリーンアクティビティを定義したか。

## Androidでローカルの通知メッセージが動作しません。

マニフェストにローカルの通知ブロードキャスト受信者が宣言されていることを確認します。詳しくは、「[アプリ内メッセージの有効化](/help/android/messaging-main/messaging/messaging.md)」の手順 2 を参照してください。

## メッセージが発行されているか確認したい場合

アプリ内メッセージを管理ページの「ステータス」列でリスト表示を確認し、メッセージがライブかどうかを確認します。

## 「オーディエンス」タブの「*1 回のみ表示*」、*常に表示*」、「*オフラインで表示*」設定を確認します。

これらの設定が正しく行われていることを確認します。**[!UICONTROL 閲覧者]**&#x200B;タブで、メッセージの表示頻度を指定するための&#x200B;**[!UICONTROL トリガー]**&#x200B;オプションを確認します。

## 起動イベントをトリガとして使用する場合

起動イベントは、新規セッションでのみ実行されます。セッションが開始されるタイミングについて詳しくは、JSON 設定ファイルの `lifecycleTimeout` の行を参照してください。詳しくは、「[ADBMobile JSON の設定](/help/ios/configuration/json-config/json-config.md)」を参照してください。

## メッセージをリモートで更新しましたが、アプリで古いメッセージが表示されています。

次のどちらかのタスクを実行します。

* Dynamic Tag Management では、エンドポイントが新しい定義で更新されるまでに数分かかることがあります。

   しばらく待ってからもう一度試してください。

* 設定は、新たに起動したときにのみ更新されます。ライフサイクルセッションのタイムアウト時間中にアプリを再起動した場合は、新しい設定がダウンロードされていない可能性があります。

   詳しくは、「[ライフサイクル指標](/help/ios/metrics.md)」を参照してください。

## 画像がテンプレートに用意されている領域に正確に収まりません。

アプリ内メッセージのフルスクリーンテンプレートでは、リモートサーバー（画像URL）またはアプリバンドル（バンドルされた画像）からの画像の表示がサポートされています。 画像は、JPG、GIF、PNG などの、標準的な画像形式であることが必要です。

デバイスの画面のサイズには様々なものがあるので、画像がテンプレートに用意されている領域にぴったりと収まらない可能性があります。テンプレートでは、画像の中心を表示することに重点が置かれており、画像が収まらない場合は端がトリミング（縦長）またはフェード（横長）されます。

それぞれの向きの正確な配置およびサイズ指定ルールを次に示します。

* **縦**：
   * スマートフォンの場合は高さ195px
   * タブレットの場合は高さ529px
   * 画像の幅がデバイスの幅より小さい場合は中央揃え。
   * 画像の幅がデバイスの幅より大きい場合に切り抜かれます。

* **横**：
   * 画像は、デバイスの高さの100%に合わせて拡大縮小されます。
   * 幅はデバイスの75 %で、右側にフェードアウトが表示されます。

フルスクリーンテンプレートに問題がある場合は、カスタムHTMLテンプレートをダウンロードして使用できます。 このテンプレートは、画像をより柔軟に表示でき、テンプレートを完全に制御できます。

## iPhone Xのアプリ内メッセージは、フルスクリーンモードでは表示されません。

iPhone Xでフルスクリーンモードでアプリ内メッセージを表示するには：

1. メタタグに `viewport-fit=cover` を追加します。

   ```html
   <meta name="viewport" content="viewport-fit=cover">
   ```

1. 上部のUI要素に適切なパディングをCSSに設定します。例：

   ```html
    topelement {
      padding-top:20px;
      /*Status bar height on iOS 11.0*/
      padding-top:constant(safe-area-inset-top);
      /*Status bar height on iOS 11+ */
      padding-top:env(safe-area-inset-top);
      } 
   ```

   これらの設定により、UI要素がステータスバーに衝突するのを防ぐことができます。
